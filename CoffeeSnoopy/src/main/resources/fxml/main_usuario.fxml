<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.text.*?>

<BorderPane prefHeight="700.0" prefWidth="1000.0" xmlns="http://javafx.com/javafx/17.0.12"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="pe.edu.upeu.CafeSnoopy.control.UsuarioController">

    <top>
        <VBox spacing="10" style="-fx-padding: 20; -fx-background-color: #3498db;">
            <Label text="ðŸ‘¥ GESTIÃ“N DE USUARIOS - CAFE SNOOPY"
                   style="-fx-font-size: 24px; -fx-font-weight: bold; -fx-text-fill: white;"/>

            <Label text="Administre los usuarios del sistema de manera eficiente"
                   style="-fx-font-size: 14px; -fx-text-fill: #ecf0f1;"/>
        </VBox>
    </top>

    <center>
        <TabPane tabClosingPolicy="UNAVAILABLE">
            <Tab text="ðŸ“ Registrar Usuario">
                <content>
                    <ScrollPane fitToWidth="true" fitToHeight="true">
                        <VBox spacing="20" style="-fx-padding: 20;">
                            <VBox spacing="15" style="-fx-padding: 25; -fx-background-color: #f8f9fa; -fx-background-radius: 15; -fx-border-color: #bdc3c7; -fx-border-radius: 15;">
                                <Label text="ðŸ“‹ INFORMACIÃ“N DEL USUARIO" style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>

                                <GridPane hgap="20" vgap="15">
                                    <columnConstraints>
                                        <ColumnConstraints prefWidth="150"/>
                                        <ColumnConstraints prefWidth="300"/>
                                        <ColumnConstraints prefWidth="150"/>
                                        <ColumnConstraints prefWidth="300"/>
                                    </columnConstraints>

                                    <Label text="ðŸ‘¤ Username *:" style="-fx-font-weight: bold; -fx-text-fill: #2c3e50;" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                                    <TextField fx:id="txtUsername" promptText="Ingrese username" style="-fx-font-size: 14px; -fx-pref-height: 35;" GridPane.columnIndex="1" GridPane.rowIndex="0"/>

                                    <Label text="ðŸ”’ Password *:" style="-fx-font-weight: bold; -fx-text-fill: #2c3e50;" GridPane.columnIndex="2" GridPane.rowIndex="0"/>
                                    <PasswordField fx:id="txtPassword" promptText="Ingrese password" style="-fx-font-size: 14px; -fx-pref-height: 35;" GridPane.columnIndex="3" GridPane.rowIndex="0"/>

                                    <Label text="ðŸ“› Nombres *:" style="-fx-font-weight: bold; -fx-text-fill: #2c3e50;" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                                    <TextField fx:id="txtNombres" promptText="Ingrese nombres completos" style="-fx-font-size: 14px; -fx-pref-height: 35;" GridPane.columnIndex="1" GridPane.rowIndex="1" GridPane.columnSpan="3"/>

                                    <Label text="ðŸ“› Apellidos *:" style="-fx-font-weight: bold; -fx-text-fill: #2c3e50;" GridPane.columnIndex="0" GridPane.rowIndex="2"/>
                                    <TextField fx:id="txtApellidos" promptText="Ingrese apellidos completos" style="-fx-font-size: 14px; -fx-pref-height: 35;" GridPane.columnIndex="1" GridPane.rowIndex="2" GridPane.columnSpan="3"/>

                                    <Label text="ðŸ“§ Email:" style="-fx-font-weight: bold; -fx-text-fill: #2c3e50;" GridPane.columnIndex="0" GridPane.rowIndex="3"/>
                                    <TextField fx:id="txtEmail" promptText="usuario@ejemplo.com" style="-fx-font-size: 14px; -fx-pref-height: 35;" GridPane.columnIndex="1" GridPane.rowIndex="3" GridPane.columnSpan="3"/>

                                    <Label text="âœ… Estado:" style="-fx-font-weight: bold; -fx-text-fill: #2c3e50;" GridPane.columnIndex="0" GridPane.rowIndex="4"/>
                                    <CheckBox fx:id="chkEstado" text="Usuario activo" style="-fx-font-size: 14px; -fx-text-fill: #27ae60;" selected="true" GridPane.columnIndex="1" GridPane.rowIndex="4"/>

                                    <HBox spacing="15" GridPane.columnIndex="1" GridPane.rowIndex="5" GridPane.columnSpan="3">
                                        <Button text="ðŸ’¾ GUARDAR" onAction="#guardarUsuario"
                                                style="-fx-background-color: #27ae60; -fx-text-fill: white; -fx-font-size: 14px; -fx-font-weight: bold; -fx-padding: 12 25; -fx-background-radius: 8;"/>
                                        <Button text="ðŸ”„ CANCELAR" onAction="#cancelarEdicion"
                                                style="-fx-background-color: #e67e22; -fx-text-fill: white; -fx-font-size: 14px; -fx-padding: 12 25; -fx-background-radius: 8;"/>
                                        <Button text="ðŸ§¹ LIMPIAR" onAction="#limpiarFormulario"
                                                style="-fx-background-color: #3498db; -fx-text-fill: white; -fx-font-size: 14px; -fx-padding: 12 25; -fx-background-radius: 8;"/>
                                    </HBox>
                                </GridPane>
                            </VBox>

                            <VBox spacing="15">
                                <HBox spacing="10" alignment="CENTER_LEFT">
                                    <Label text="ðŸ“Š USUARIOS REGISTRADOS" style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>
                                    <Label text="(Gestione sus usuarios aquÃ­)" style="-fx-text-fill: #7f8c8d; -fx-font-size: 12px;"/>
                                </HBox>

                                <TableView fx:id="tableUsuarios" prefHeight="350" style="-fx-font-size: 13px;">
                                    <columnResizePolicy>
                                        <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                                    </columnResizePolicy>
                                </TableView>
                            </VBox>
                        </VBox>
                    </ScrollPane>
                </content>
            </Tab>

            <Tab text="ðŸ“ˆ EstadÃ­sticas">
                <content>
                    <ScrollPane fitToWidth="true" fitToHeight="true">
                        <VBox spacing="25" style="-fx-padding: 25;">
                            <Label text="ðŸ“Š ESTADÃSTICAS DE USUARIOS" style="-fx-font-size: 22px; -fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>

                            <HBox spacing="20" alignment="CENTER">

                                <VBox spacing="10" alignment="CENTER" style="-fx-padding: 25; -fx-background-color: #e8f6f3; -fx-background-radius: 12; -fx-pref-width: 220;">
                                    <Label text="ðŸ‘¥ TOTAL" style="-fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>
                                    <Label fx:id="lblTotalUsuarios" text="0" style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-text-fill: #27ae60;"/>
                                    <Label text="usuarios" style="-fx-text-fill: #7f8c8d;"/>
                                </VBox>

                                <VBox spacing="10" alignment="CENTER" style="-fx-padding: 25; -fx-background-color: #fef9e7; -fx-background-radius: 12; -fx-pref-width: 220;">
                                    <Label text="âœ… ACTIVOS" style="-fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>
                                    <Label fx:id="lblUsuariosActivos" text="0" style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-text-fill: #f39c12;"/>
                                    <Label text="usuarios" style="-fx-text-fill: #7f8c8d;"/>
                                </VBox>

                                <VBox spacing="10" alignment="CENTER" style="-fx-padding: 25; -fx-background-color: #eaf2f8; -fx-background-radius: 12; -fx-pref-width: 220;">
                                    <Label text="ðŸ“… REGISTROS" style="-fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>
                                    <Label text="HOY" style="-fx-font-size: 14px; -fx-text-fill: #3498db;"/>
                                    <Label fx:id="lblRegistrosHoy" text="0" style="-fx-font-size: 24px; -fx-font-weight: bold; -fx-text-fill: #3498db;"/>
                                    <Label text="nuevos" style="-fx-text-fill: #7f8c8d;"/>
                                </VBox>
                            </HBox>

                            <VBox spacing="15" style="-fx-padding: 25; -fx-background-color: #f8f9fa; -fx-background-radius: 12; -fx-border-color: #ecf0f1; -fx-border-radius: 12;">
                                <Label text="â„¹ï¸ INFORMACIÃ“N DEL SISTEMA" style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>
                                <GridPane hgap="20" vgap="10">
                                    <columnConstraints>
                                        <ColumnConstraints prefWidth="250"/>
                                        <ColumnConstraints prefWidth="250"/>
                                    </columnConstraints>
                                    <Label text="â€¢ Ãšltimo usuario: Wagner.chambi" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                                    <Label text="â€¢ Administradores: 0" GridPane.columnIndex="1" GridPane.rowIndex="0"/>
                                    <Label text="â€¢ Fecha sistema: 25/01/2025" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                                    <Label text="â€¢ VersiÃ³n: 1.0" GridPane.columnIndex="1" GridPane.rowIndex="1"/>
                                </GridPane>
                            </VBox>
                        </VBox>
                    </ScrollPane>
                </content>
            </Tab>
        </TabPane>
    </center>

    <bottom>
        <HBox spacing="15" style="-fx-padding: 12; -fx-background-color: #2980b9; -fx-alignment: CENTER_LEFT;">
            <Label text="ðŸŸ¢ Sistema activo" style="-fx-text-fill: white; -fx-font-size: 12px;"/>
            <Separator orientation="VERTICAL" style="-fx-padding: 0 10;"/>
            <Label text="ðŸ‘¤ Usuarios: --" style="-fx-text-fill: white; -fx-font-size: 12px;"/>
            <Separator orientation="VERTICAL" style="-fx-padding: 0 10;"/>
            <Label text="ðŸ•’ Actualizado: ahora" style="-fx-text-fill: white; -fx-font-size: 12px;"/>
        </HBox>
    </bottom>
</BorderPane>